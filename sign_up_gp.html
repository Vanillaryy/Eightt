<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Sign Up</title>
</head>

<body>
	<form>
		<h1>Sign Up</h1>
		<div>email : <input type="email" id="signUpEmail"></div>
		<div>password : <input type="password" id="signUpPassword"></div>
		<button type="submit" id="signUpButton">Sign Up</button>
	</form>
	<script type="module">
		// Import the functions you need from the SDKs you need
		import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
		import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-analytics.js";
		// TODO: Add SDKs for Firebase products that you want to use
		// https://firebase.google.com/docs/web/setup#available-libraries

		// Your web app's Firebase configuration
		// For Firebase JS SDK v7.20.0 and later, measurementId is optional
		const firebaseConfig = {
			apiKey: "AIzaSyDYdlHEAUZZyW761jnGdWyrqL4_19HU3bc",
			authDomain: "eightt-2f4b8.firebaseapp.com",
			projectId: "eightt-2f4b8",
			storageBucket: "eightt-2f4b8.firebasestorage.app",
			messagingSenderId: "634657356450",
			appId: "1:634657356450:web:fa1c6e534322856c50b5fb",
			measurementId: "G-W58NY77C7X"
		};


		// Initialize Firebase
		const app = initializeApp(firebaseConfig);
		const analytics = getAnalytics(app);

		import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";

		document.getElementById('signUpButton').addEventListener('click', (event) => {
			event.preventDefault()																			// 새로고침 방지
			const signUpEmail = document.getElementById('signUpEmail').value
			const signUpPassword = document.getElementById('signUpPassword').value
			const auth = getAuth();
			createUserWithEmailAndPassword(auth, signUpEmail, signUpPassword)
				.then((userCredential) => {
					console.log(userCredential)
					// Signed up 
					const user = userCredential.user;
					// ...
				})
				.catch((error) => {
					console.log('error')
					const errorCode = error.code;
					const errorMessage = error.message;
					// ..
				});
		})
	</script>
	<button onclick="location.href='log_in_gp.html'">Go to log in</button>
</body>

</html>